## 핫스팟 가상 머신

핫스팟 JVM의 성능 최적화의 핵심은 JIT 컴파일

자주 실행되는 부분을 기계어(native code)로 컴파일하여 성능을 크게 향상

자바는 일반적으로 바이트 코드로 실행되지만, 핫스팟은 자주 실행되는 코드에 대해 네이티브 코드로 컴파일하여 성능을 개선

핫스팟은 여러 가지 GC 알고리즘을 지원합니다. 
예를 들어, Serial GC, Parallel GC, G1 GC 등이 있으며, 
애플리케이션의 요구 사항에 맞게 적절한 알고리즘을 선택할 수 있습니다.


JIT 컴파일의 작동 방식

첫 실행 : 프로그램이 실행되면, JVM은 바이트 코드를 인터프리터 방식으로 실행
핫스팟 분석: 자주 호출되는 메서드나 코드 조각을 JVM이 추적, 
이러한 코드 부분을 JIT 컴파일러에 의해 컴파일하도록 결정
JIT 컴파일: 자주 호출되는 코드가 JIT 컴파일러에 의해 네이티브 코드로 변환
인터프리터를 거치지 않고 직접 실행
컴파일된 네이티브 코드: JIT 컴파일러는 한 번 컴파일된 코드를 캐시하여 이후에는 빠르게 직접 실행


### 핫스팟 컴파일러의 최적화 전략
동적 최적화-프로그램 실행 상태에 따라 최적화
인라인 캐싱(Inlining) : 메서드 호출 없이 직접 실행
(메서드의 로직이 호출 지점에 직접 삽입,메서드 호출에 대한 비용이 사라지고, 실행 시간이 단축)
```JAVA
// 예시: 인라인 적용 전
public int add(int a, int b) {
    return a + b;
}

public int calculate() {
    return add(5, 3);  // 메서드 호출
}

// 예시: 인라인 적용 후
public int calculate() {
    return 5 + 3;  // 메서드 호출 없이 직접 실행
}


```


루프 최적화(Loop Optimization): 루프 불변 조건 최적화,루프 변형(Loop Unrolling)
```JAVA
// 최적화 전
for (int i = 0; i < array.length; i++) {
    if (array[i] == someConstant) {  // 매번 계산되는 값
        // 코드
    }
}

// 최적화 후
int constantValue = someConstant;  // 루프 외부에서 한번만 계산
for (int i = 0; i < array.length; i++) {
    if (array[i] == constantValue) {  // 불변값은 루프 외부에서 사용
        // 코드
    }
}
```

예외 처리 최적화(Exception Handling Optimization):예외 발생을 최소화,예외 처리 로직 간소화
예외가 자주 발생하는 코드에서 예외 처리 부분을 최적화


reference 
[HotSpot-JVM](https://velog.io/@aki/HotSpot-JVM)
